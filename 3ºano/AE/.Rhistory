knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
set.seed(123)
library(ISLR2)
library(ISLR2)
NCI60$data
matriz <- matrix(c(NCI60$data))
matriz
matriz <- matrix(c(NCI60$data), 1000,5)
matriz <- matrix(c(NCI60$data), 1000,5)
matriz
matriz <- matrix(c(NCI60$data), 1000,6)
matriz
matriz <- matrix(c(NCI60$data), 1000,6Â«10)
matriz <- matrix(c(NCI60$data), 1000,10)
matriz
matriz <- matrix(c(NCI60$data), 1000,6)
matriz
NCI60$data
x <- scale(NCI60$data)
X
x
vari <- FindVariableGenes(object = NCI60$data, do.plot = FALSE)
sum(is.na(NCI60$data))
#ver os valores em falta
colSums(is.na(NCI60$data))
#ver os valores em falta
sum(is.na(NCI60$data))
# ver o numero de variaveis genes
ncol(NCI60$data)
matriz <- NCI60$data
colSums(is.na(matriz))
# ver o numero de variaveis genes
ncol(matriz)
x <- scale(matriz, center = TRUE, scale = FALSE)
x
cov(x)
cor(x)
pc <- prcomp(x,center = TRUE, scale. = TRUE)
pc_cov <- prcomp(X, center = TRUE, scale. = FALSE)
pc <- prcomp(x,center = TRUE, scale. = TRUE)
pc_cov <- prcomp(x, center = TRUE, scale. = FALSE)
summary(pc)
summary(pc_cov)
library(ISLR2)
matriz <- NCI60$data
# ver o numero de variaveis genes, neste caso 6830
ncol(matriz)
#ver contar os valores em falta
sum(is.na(matriz))
# para ver quais sao, nao tem nenhum
colSums(is.na(matriz))
x <- scale(matriz, center = TRUE, scale = FALSE)
x
# covariancias
cov(x)
# correlacoes
cor(x)
# correlacoes
pc <- prcomp(x,center = FALSE, scale. = TRUE)
#covariancia
pc_cov <- prcomp(x, center = FALSE, scale. = FALSE)
summary(pc)
summary(pc_cov)
x <- scale(matriz, center = TRUE, scale = FALSE)
x
# covariancias
cov(x)
# correlacoes
cor(x)
summary(x)
valores <- pc$sdev^2
pve <- valores / sum(valores)
pve
library(ggplot2)
pve_acumulado <- cumsum(pve)
pve_acumulado
screeplot(pve_acumulado)
screeplot(pve_acumulado, type = "lines")
screeplot(pve, type = "lines")
valores <- pc$sdev^2
valores <- pc$sdev^2
valores
pve <- valores / sum(valores)
pve
pve_acumulado <- cumsum(pve)
pve_acumulado
screeplot(pve, type = "lines")
plot(pve, type = "b",
xlab = "Componente Principal",
ylab = "PVE",
main = "Scree Plot")
# PCA sem padronizar de novo
pc <- prcomp(X, center = FALSE, scale. = FALSE)
X <- scale(matriz, center = TRUE, scale = FALSE)
library(ISLR2)
library(ggplot2)
matriz <- NCI60$data
# ver o numero de variaveis genes, neste caso 6830
ncol(matriz)
#ver contar os valores em falta
sum(is.na(matriz))
# para ver quais sao, nao tem nenhum
colSums(is.na(matriz))
X <- scale(matriz, center = TRUE, scale = FALSE)
X
# covariancias
cov(X)
# correlacoes
cor(X)
summary(X)
# PCA sem padronizar de novo
pc <- prcomp(X, center = FALSE, scale. = FALSE)
# Scree plot com linhas (base R)
screeplot(pc, type = "lines", main = "Scree Plot")
# Scree plot com barras
screeplot(pc, type = "bars", main = "Scree Plot (barras)")
NCI60$data
# ver o numero de variaveis genes, neste caso 6830
ncol(data)
dim(data)
dat <- NCI60$data
# ver o numero de variaveis genes, neste caso 6830
ncol(dat)
dim(dat)
